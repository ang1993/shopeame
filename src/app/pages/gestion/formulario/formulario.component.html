<h2>Creación/edición de productos</h2>

<div class="container">
    <div class="gestion-form">
        <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
            <fieldset>
                <label for="name">Nombre del producto:</label>   
                <input id="name" type="text" formControlName="name" placeholder="Por ej: Tiesto para planta" />
                <div class="errores-form" *ngIf="!productForm.get('name').valid && (productForm.get('name').dirty || submitted)">
                    <span>¡Introduce un nombre de producto válido!</span>
                </div>
            </fieldset>
            <fieldset>    
                <label for="price">Precio:</label>   
                <input id="price" type="text" formControlName="price" placeholder="Por ej: 9.50">
                <div class="errores-form" *ngIf="!productForm.get('price').valid && (productForm.get('price').dirty || submitted)">
                    <span>¡Introduce un precio válido!</span>
                </div>
            </fieldset>
            <fieldset>
                <label for="description">Descripción:</label>
                <input id="description" type="text" formControlName="description" placeholder="Por ej: Lo más vendido de este mes">
                <div class="errores-form" *ngIf="!productForm.get('description').valid && (productForm.get('description').dirty || submitted)">
                    <span>¡Introduce una descripción válida!</span>
                </div>
            </fieldset>
            <fieldset>
                <label for="image">Ruta de la imagen:</label>
                <input id="image" formControlName="image" placeholder="Por ej: http://blabla.com/img.jpg">
                <div class="errores-form" *ngIf="!productForm.get('image').valid && (productForm.get('image').dirty || submitted)">
                    <span>¡Introduce una URL!</span>
                </div>
            </fieldset>
            <fieldset>
                <label for="stars">Valora el producto del 1 al 5:</label>
                <input id="stars" formControlName="stars" placeholder="Introduce un número del 1 al 5">
                <div class="errores-form" *ngIf="!productForm.get('stars').valid && (productForm.get('stars').dirty || submitted)">
                    <span>¡Introduce un número del 1 al 5!</span>
                </div>
            </fieldset>
            <button type="submit" [disabled]="!productForm.valid">Enviar</button>
            <!--reset button??-->
        </form> 
    </div>

    <!--SECCIÓN PARA LOS MENSAJES DE ERROR: Detalles de los errores más concretos.-->

    <div class="gestion-preview">
        <app-simulador [product]="newItem"></app-simulador>
    </div>
</div>